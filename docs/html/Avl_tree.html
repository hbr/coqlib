<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Avl_tree</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Avl_tree</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Core.html#"><span class="id" title="library">Core</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#"><span class="id" title="library">Coq.Lists.List</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Make"><span class="id" title="module">Make</span></a> (<span class="id" title="var">S</span>:<a class="idref" href="Core.html#SORTABLE"><span class="id" title="module">SORTABLE</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Relation</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab12"></a><h1 class="section">Sortable</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Make.sortable"><span class="id" title="section">sortable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.A"><span class="id" title="definition">A</span></a>:<span class="id" title="keyword">Set</span> :=  <a class="idref" href="Avl_tree.html#S.T"><span class="id" title="axiom">S.T</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.transitive"><span class="id" title="lemma">transitive</span></a>: <a class="idref" href="Core.html#Relation.Transitive"><span class="id" title="definition">Transitive</span></a> <a class="idref" href="Avl_tree.html#S.Less_equal"><span class="id" title="axiom">S.Less_equal</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.reflexive"><span class="id" title="lemma">reflexive</span></a>: <a class="idref" href="Core.html#Relation.Reflexive"><span class="id" title="definition">Reflexive</span></a> <a class="idref" href="Avl_tree.html#S.Less_equal"><span class="id" title="axiom">S.Less_equal</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.sortable"><span class="id" title="section">sortable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="f3b44cbdebb7a435e74f15139090fed2"><span class="id" title="notation">&quot;</span></a>a &lt;= b"  := (<a class="idref" href="Avl_tree.html#S.Less_equal"><span class="id" title="axiom">S.Less_equal</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="acb32ef187d0cf4d92e8560600660096"><span class="id" title="notation">&quot;</span></a>a &lt;=? b" := (<a class="idref" href="Avl_tree.html#S.is_less_equal"><span class="id" title="axiom">S.is_less_equal</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.Equivalent"><span class="id" title="definition">Equivalent</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a>): <span class="id" title="keyword">Prop</span> := <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#f3b44cbdebb7a435e74f15139090fed2"><span class="id" title="notation">≤</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#f3b44cbdebb7a435e74f15139090fed2"><span class="id" title="notation">≤</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h1 class="section">List</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Make.List"><span class="id" title="module">List</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.List.L"><span class="id" title="definition">L</span></a>: <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.List.Permutation"><span class="id" title="inductive">Permutation</span></a>: <a class="idref" href="Avl_tree.html#Make.List.L"><span class="id" title="definition">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.List.L"><span class="id" title="definition">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.List.perm_empty"><span class="id" title="constructor">perm_empty</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.List.perm_prefix"><span class="id" title="constructor">perm_prefix</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.List.perm_swap"><span class="id" title="constructor">perm_swap</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span>,  <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Avl_tree.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.List.perm_transitive"><span class="id" title="constructor">perm_transitive</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>,  <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.List"><span class="id" title="module">List</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h1 class="section">Basic Definitions</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Make.basic_definitions"><span class="id" title="section">basic_definitions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Balance"><span class="id" title="inductive">Balance</span></a>: <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Make.balanced"><span class="id" title="constructor">balanced</span></a>: <a class="idref" href="Avl_tree.html#Balance"><span class="id" title="inductive">Balance</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.left_leaning"><span class="id" title="constructor">left_leaning</span></a>: <a class="idref" href="Avl_tree.html#Balance"><span class="id" title="inductive">Balance</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Make.empty"><span class="id" title="constructor">empty</span></a>: <a class="idref" href="Avl_tree.html#T"><span class="id" title="inductive">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.node"><span class="id" title="constructor">node</span></a>:  <a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#T"><span class="id" title="inductive">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Make.height"><span class="id" title="definition">height</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="Avl_tree.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="Avl_tree.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.Node"><span class="id" title="definition">Node</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Domain"><span class="id" title="inductive">Domain</span></a>: <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.domain_node"><span class="id" title="constructor">domain_node</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Domain"><span class="id" title="inductive">Domain</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.domain_left"><span class="id" title="constructor">domain_left</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Domain"><span class="id" title="inductive">Domain</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Domain"><span class="id" title="inductive">Domain</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.domain_right"><span class="id" title="constructor">domain_right</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Domain"><span class="id" title="inductive">Domain</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Domain"><span class="id" title="inductive">Domain</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.node_not_empty"><span class="id" title="lemma">node_not_empty</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a>) (<span class="id" title="var">a</span>:<a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.is_node"><span class="id" title="definition">is_node</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.element"><span class="id" title="definition">element</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span>:<a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.left_son"><span class="id" title="definition">left_son</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span>:<a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t1</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">t1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.right_son"><span class="id" title="definition">right_son</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span>:<a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t2</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.balance"><span class="id" title="definition">balance</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <a class="idref" href="Avl_tree.html#Make.balanced"><span class="id" title="constructor">balanced</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Make.least"><span class="id" title="definition">least</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#Make.is_node"><span class="id" title="definition">is_node</span></a> <span class="id" title="var">t1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a>  <span class="id" title="var">pt1</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Avl_tree.html#least"><span class="id" title="definition">least</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">pt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">pt1</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Make.greatest"><span class="id" title="definition">greatest</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#Make.is_node"><span class="id" title="definition">is_node</span></a> <span class="id" title="var">t2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a>  <span class="id" title="var">pt2</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Avl_tree.html#greatest"><span class="id" title="definition">greatest</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">pt2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">pt2</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.basic_definitions"><span class="id" title="section">basic_definitions</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h1 class="section">Balanced Trees</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Make.balanced"><span class="id" title="section">balanced</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Balanced"><span class="id" title="inductive">Balanced</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Make.balanced_empty"><span class="id" title="constructor">balanced_empty</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> 0 <a class="idref" href="Avl_tree.html#Make.balanced"><span class="id" title="constructor">balanced</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.balanced_perfect"><span class="id" title="constructor">balanced_perfect</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">h</span> <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> <span class="id" title="var">h_new</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#h_new"><span class="id" title="variable">h_new</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h_new"><span class="id" title="variable">h_new</span></a> <a class="idref" href="Avl_tree.html#Make.balanced"><span class="id" title="constructor">balanced</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#Make.balanced"><span class="id" title="constructor">balanced</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.balanced_left_leaning"><span class="id" title="constructor">balanced_left_leaning</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">h1</span> <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> <span class="id" title="var">h2</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> <span class="id" title="var">h_new</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Avl_tree.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#h_new"><span class="id" title="variable">h_new</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Avl_tree.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h1"><span class="id" title="variable">h1</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h_new"><span class="id" title="variable">h_new</span></a> <a class="idref" href="Avl_tree.html#Make.left_leaning"><span class="id" title="constructor">left_leaning</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#Make.left_leaning"><span class="id" title="constructor">left_leaning</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.height_consistent"><span class="id" title="lemma">height_consistent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">h</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a>) (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="Avl_tree.html#Make.Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Avl_tree.html#Make.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Search</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.Balanced_tree"><span class="id" title="definition">Balanced_tree</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced"><span class="id" title="inductive">Balanced</span></a> (<a class="idref" href="Avl_tree.html#Make.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Avl_tree.html#Make.balance"><span class="id" title="definition">balance</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.balanced_is_balanced_tree"><span class="id" title="lemma">balanced_is_balanced_tree</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">h</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a>) (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced_tree"><span class="id" title="definition">Balanced_tree</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.balanced_subtree"><span class="id" title="lemma">balanced_subtree</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a>) (<span class="id" title="var">h</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced"><span class="id" title="inductive">Balanced</span></a> <a class="idref" href="Avl_tree.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span>:<a class="idref" href="Avl_tree.html#Make.Node"><span class="id" title="definition">Node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced_tree"><span class="id" title="definition">Balanced_tree</span></a> (<a class="idref" href="Avl_tree.html#Make.left_son"><span class="id" title="definition">left_son</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Balanced_tree"><span class="id" title="definition">Balanced_tree</span></a> (<a class="idref" href="Avl_tree.html#Make.right_son"><span class="id" title="definition">right_son</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#p"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.balanced"><span class="id" title="section">balanced</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h1 class="section">Sorted Trees</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Make.sorted"><span class="id" title="section">sorted</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Sorted"><span class="id" title="inductive">Sorted</span></a>: <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Make.empty_sorted"><span class="id" title="constructor">empty_sorted</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">lo</span> <span class="id" title="var">hi</span>, <a class="idref" href="Avl_tree.html#Sorted"><span class="id" title="inductive">Sorted</span></a> <a class="idref" href="Avl_tree.html#lo"><span class="id" title="variable">lo</span></a> <a class="idref" href="Avl_tree.html#hi"><span class="id" title="variable">hi</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.node_sorted"><span class="id" title="constructor">node_sorted</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi1</span> <span class="id" title="var">t1</span> <span class="id" title="var">lo2</span> <span class="id" title="var">hi2</span> <span class="id" title="var">t2</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Sorted"><span class="id" title="inductive">Sorted</span></a> <a class="idref" href="Avl_tree.html#lo1"><span class="id" title="variable">lo1</span></a> <a class="idref" href="Avl_tree.html#hi1"><span class="id" title="variable">hi1</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Sorted"><span class="id" title="inductive">Sorted</span></a> <a class="idref" href="Avl_tree.html#lo2"><span class="id" title="variable">lo2</span></a> <a class="idref" href="Avl_tree.html#hi2"><span class="id" title="variable">hi2</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#hi1"><span class="id" title="variable">hi1</span></a> <a class="idref" href="Avl_tree.html#f3b44cbdebb7a435e74f15139090fed2"><span class="id" title="notation">≤</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#f3b44cbdebb7a435e74f15139090fed2"><span class="id" title="notation">≤</span></a> <a class="idref" href="Avl_tree.html#lo2"><span class="id" title="variable">lo2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Sorted"><span class="id" title="inductive">Sorted</span></a> <a class="idref" href="Avl_tree.html#lo1"><span class="id" title="variable">lo1</span></a> <a class="idref" href="Avl_tree.html#hi2"><span class="id" title="variable">hi2</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.sorted"><span class="id" title="section">sorted</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Make.blabla"><span class="id" title="section">blabla</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Permutation"><span class="id" title="inductive">Permutation</span></a>: <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.perm_empty"><span class="id" title="constructor">perm_empty</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> <a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.perm_left"><span class="id" title="constructor">perm_left</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#a1"><span class="id" title="variable">a1</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#a2"><span class="id" title="variable">a2</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.perm_right"><span class="id" title="constructor">perm_right</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Avl_tree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Avl_tree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.perm_root"><span class="id" title="constructor">perm_root</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Avl_tree.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Avl_tree.html#w"><span class="id" title="variable">w</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.perm_transitive"><span class="id" title="constructor">perm_transitive</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t3"><span class="id" title="variable">t3</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Make.Replaced"><span class="id" title="inductive">Replaced</span></a>: <a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.replaced_root"><span class="id" title="constructor">replaced_root</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Equivalent"><span class="id" title="definition">Equivalent</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Replaced"><span class="id" title="inductive">Replaced</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.replaced_left"><span class="id" title="constructor">replaced_left</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Replaced"><span class="id" title="inductive">Replaced</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Replaced"><span class="id" title="inductive">Replaced</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Make.replaced_right"><span class="id" title="constructor">replaced_right</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Replaced"><span class="id" title="inductive">Replaced</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Replaced"><span class="id" title="inductive">Replaced</span></a> <a class="idref" href="Avl_tree.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Make.Avl"><span class="id" title="definition">Avl</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#Make.is_node"><span class="id" title="definition">is_node</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a>  <span class="id" title="var">p</span> ⇒ <a class="idref" href="Avl_tree.html#Make.Balanced"><span class="id" title="inductive">Balanced</span></a> (<a class="idref" href="Avl_tree.html#Make.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Avl_tree.html#Make.balance"><span class="id" title="definition">balance</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Sorted"><span class="id" title="inductive">Sorted</span></a> (<a class="idref" href="Avl_tree.html#Make.least"><span class="id" title="definition">least</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="Avl_tree.html#Make.greatest"><span class="id" title="definition">greatest</span></a> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="var">p</span>) <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Make.inorder"><span class="id" title="definition">inorder</span></a> (<span class="id" title="var">t</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="Avl_tree.html#Make.L"><span class="id" title="definition">List.L</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Avl_tree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.empty"><span class="id" title="constructor">empty</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ <a class="idref" href="Avl_tree.html#inorder"><span class="id" title="definition">inorder</span></a> <span class="id" title="var">t1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Avl_tree.html#inorder"><span class="id" title="definition">inorder</span></a> <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Avl_tree.html#Make.blabla"><span class="id" title="section">blabla</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Make.avl_subtree"><span class="id" title="lemma">avl_subtree</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">a</span>:<a class="idref" href="Avl_tree.html#Make.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">b</span>:<a class="idref" href="Avl_tree.html#Make.Balance"><span class="id" title="inductive">Balance</span></a>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<a class="idref" href="Avl_tree.html#Make.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Avl_tree.html#Make.Avl"><span class="id" title="definition">Avl</span></a> (<a class="idref" href="Avl_tree.html#Make.node"><span class="id" title="constructor">node</span></a> <a class="idref" href="Avl_tree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Avl_tree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Avl_tree.html#Make.Avl"><span class="id" title="definition">Avl</span></a> <a class="idref" href="Avl_tree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Avl_tree.html#Make.Avl"><span class="id" title="definition">Avl</span></a> <a class="idref" href="Avl_tree.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">add_root</span> (<span class="id" title="var">a</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">T</span>): <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">node</span> <span class="id" title="var">left_leaning</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span> <span class="id" title="var">empty</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Inserted</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">t</span> <span class="id" title="var">u</span>:<span class="id" title="var">T</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">List.Permutation</span> (<span class="id" title="var">x</span> :: <span class="id" title="var">inorder</span> <span class="id" title="var">t</span>) (<span class="id" title="var">inorder</span> <span class="id" title="var">u</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Avl_inserted</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">t</span> <span class="id" title="var">u</span>:<span class="id" title="var">T</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl</span> <span class="id" title="var">u</span> ∧ <span class="id" title="var">Inserted</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <span class="id" title="var">Inserted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">insert_empty</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl_inserted</span> <span class="id" title="var">x</span> <span class="id" title="var">empty</span> (<span class="id" title="var">node</span> <span class="id" title="var">balanced</span> <span class="id" title="var">x</span> <span class="id" title="var">empty</span> <span class="id" title="var">empty</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">insertion</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">insert</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">a</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">T</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl</span> <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Either.T</span> {<span class="id" title="var">u</span>:<span class="id" title="var">T</span> | <span class="id" title="var">Avl_inserted</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>} {<span class="id" title="var">u</span>:<span class="id" title="var">T</span> | <span class="id" title="var">Replaced</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">return</span> <span class="id" title="var">Avl</span> <span class="id" title="var">t</span> → <span class="id" title="var">Either.T</span> {<span class="id" title="var">u</span>| <span class="id" title="var">Avl_inserted</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>} {<span class="id" title="var">u</span>| <span class="id" title="var">Replaced</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">empty</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">u</span> := <span class="id" title="var">node</span> <span class="id" title="var">balanced</span> <span class="id" title="var">x</span> <span class="id" title="var">empty</span> <span class="id" title="var">empty</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Either.left</span> <span class="id" title="var">_</span> (<span class="id" title="var">exist</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span> (<span class="id" title="var">insert_empty</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">node</span> <span class="id" title="var">bal</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">pavl_t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">x</span> &lt;=? <span class="id" title="var">a</span>, <span class="id" title="var">a</span> &lt;=? <span class="id" title="var">x</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">left</span> <span class="id" title="var">p1</span>, <span class="id" title="tactic">left</span> <span class="id" title="var">p2</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">u</span> := <span class="id" title="var">node</span> <span class="id" title="var">bal</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p_replace</span>: <span class="id" title="var">Replaced</span> <span class="id" title="var">x</span> (<span class="id" title="var">node</span> <span class="id" title="var">bal</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">replaced_root</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">bal</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> (<span class="id" title="var">conj</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Either.right</span> <span class="id" title="var">_</span> (<span class="id" title="var">exist</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">p_replace</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">left</span> <span class="id" title="var">p1</span>, <span class="id" title="var">_</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pavl_t1</span>: <span class="id" title="var">Avl</span> <span class="id" title="var">t1</span> := <span class="id" title="var">_</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">t1</span> <span class="id" title="var">pavl_t1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Either.left</span> <span class="id" title="var">_</span> <span class="id" title="var">sig_ins_t1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Either.right</span> <span class="id" title="var">_</span> <span class="id" title="var">sig_repl_t1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">right</span> <span class="id" title="var">p1</span>, <span class="id" title="var">_</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">insertion</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">draft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">Avl2</span>: <span class="id" title="var">A</span> → <span class="id" title="var">A</span> → <span class="id" title="var">nat</span> → <span class="id" title="var">Balance</span> → <span class="id" title="var">T</span> → <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">avl_empty</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">lo</span> <span class="id" title="var">hi</span>, <span class="id" title="var">lo</span> ≤ <span class="id" title="var">hi</span> → <span class="id" title="var">Avl2</span> <span class="id" title="var">lo</span> <span class="id" title="var">hi</span> 0 <span class="id" title="var">balanced</span> <span class="id" title="var">empty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">avl_balanced</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi1</span> <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> <span class="id" title="var">lo2</span> <span class="id" title="var">hi2</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> <span class="id" title="var">h</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi1</span> <span class="id" title="var">h</span> <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo2</span> <span class="id" title="var">hi2</span> <span class="id" title="var">h</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hi1</span> ≤ <span class="id" title="var">a</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> ≤ <span class="id" title="var">lo2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi2</span> (1+<span class="id" title="var">h</span>) <span class="id" title="var">balanced</span> (<span class="id" title="var">node</span> <span class="id" title="var">balanced</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">avl_left_leaning</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi1</span> <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> <span class="id" title="var">lo2</span> <span class="id" title="var">hi2</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> <span class="id" title="var">h</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi1</span> (1+<span class="id" title="var">h</span>) <span class="id" title="var">b1</span> <span class="id" title="var">t1</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo2</span> <span class="id" title="var">hi2</span> <span class="id" title="var">h</span> <span class="id" title="var">b2</span> <span class="id" title="var">t2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hi1</span> ≤ <span class="id" title="var">a</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> ≤ <span class="id" title="var">lo2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo1</span> <span class="id" title="var">hi2</span> (2+<span class="id" title="var">h</span>) <span class="id" title="var">left_leaning</span> (<span class="id" title="var">node</span> <span class="id" title="var">left_leaning</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">extend_guards</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">lo_new</span> <span class="id" title="var">lo</span> <span class="id" title="var">hi</span> <span class="id" title="var">hi_new</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">h</span>:<span class="id" title="var">nat</span>) (<span class="id" title="var">b</span>:<span class="id" title="var">Balance</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">T</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo</span> <span class="id" title="var">hi</span> <span class="id" title="var">h</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lo_new</span> ≤ <span class="id" title="var">lo</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hi</span> ≤ <span class="id" title="var">hi_new</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Avl2</span> <span class="id" title="var">lo_new</span> <span class="id" title="var">hi_new</span> <span class="id" title="var">h</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">draft</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Make</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>